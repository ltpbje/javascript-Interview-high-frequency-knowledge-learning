<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手写call方法</title>
</head>
<body>
    <h2>手写call方法</h2>
    <script>
       /**
      * 手写call方法
      *  1. 定义myCall方法
      *  2. 设置this并调用原函数
      *  3. 接收剩余参数并返回结果
      * */
    // 1. 定义myCall方法
        Function.prototype.myCall =function(thisArg,...args){
          // console.log('myCall执行了')
          // 2.设置this并调用原函数
          // thisArg传入的设置为this的对象
          // this原函数（原函数.myCall）
           // 4.使用Symbol调优
          const key = Symbol('key')
          thisArg[key] =this
          const res= thisArg[key](...args)
          delete thisArg[key]
          return res
        }

    // ------------- 测试代码 -------------
    // const person = {
    //   name: 'itheima'
    // }
    // function func(numA, numB) {
    //   console.log(this)
    //   console.log(numA, numB)
    //   return numA + numB
    // }
    // // const res = func.myCall(person, 2, 8)
    // const res = func.myCall(person, 6, 4)
    // console.log('返回值为:', res)

      const food ={
        name:'西兰花炒蛋'
      }
      function func2(numA,numB,numC){
        console.log(this)
        console.log(numA, numB, numC)
        return numA + numB + numC
      }
      const res= func2.myCall(food,2,4,6)
      console.log('res:',res)
      // ---------------测试Symbol-----------------
      // 调用Symbol内置函数，可以传入字符串作为标记
      // 返回一个唯一的值
      // const s1 = Symbol()
      // const s2 =Symbol()
      // console.log(s1 === s2)
      // const s3 = Symbol('itheima')
      // const s4 = Symbol('itheima')
      // console.log(s3===s4)
 

    </script>

    
</body>
</html>